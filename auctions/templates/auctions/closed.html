{% extends "auctions/layout.html" %}

{% block title %}Sold Items - AuctionHub{% endblock %}

{% block body %}
<div class="page-header" data-aos="fade-up">
    <div>
        <h2 class="page-title">Sold Items</h2>
        <p class="page-subtitle">Completed auctions and winning bids</p>
    </div>
</div>

{% if listings %}
<div class="listings-grid">
    {% for listing in listings %}
    <div class="listing-card" data-aos="fade-up" data-aos-delay="{{ forloop.counter0|add:0 }}0" style="opacity: 0.9;">
        <!-- Image Container -->
        <div class="listing-image-container">
            <img src="{{ listing.image_url }}" alt="{{ listing.title }}" class="listing-image" onerror="this.src='https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=400&h=300&fit=crop'" style="filter: grayscale(20%);">
            <span class="listing-badge" style="background: var(--gray-700);">
                <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="margin-right: 4px;"><polyline points="20 6 9 17 4 12"/></svg>
                Sold
            </span>
        </div>
        
        <!-- Content -->
        <div class="listing-content">
            <a href="{% url 'listing' listing.id %}" class="listing-title">{{ listing.title }}</a>
            
            <div class="listing-price-section">
                <div class="listing-price-label">Final Price</div>
                <div class="listing-price" style="color: var(--success);">${{ listing.highest_bid }}</div>
            </div>
            
            <div class="listing-owner">{{ listing.owner }}</div>
            
            <span class="badge badge-secondary" style="margin-top: 0.75rem;">
                <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="margin-right: 4px;"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>
                Auction Closed
            </span>
        </div>
    </div>
    {% endfor %}
</div>
{% else %}
<div class="empty-state" data-aos="fade-up">
    <div class="empty-state-icon">
        <svg width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
            <rect x="3" y="11" width="18" height="11" rx="2" ry="2"/>
            <path d="M7 11V7a5 5 0 0 1 10 0v4"/>
        </svg>
    </div>
    <h3 style="color: var(--gray-800); margin-bottom: 0.5rem;">No Closed Auctions</h3>
    <p class="empty-state-text">Once auctions are completed, they'll appear here.</p>
    <a href="{% url 'index1' %}" class="btn btn-primary">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
        View Active Auctions
    </a>
</div>
{% endif %}
{% endblock %}
