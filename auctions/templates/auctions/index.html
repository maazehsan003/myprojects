{% extends "auctions/layout.html" %}

{% block title %}Active Listings - AuctionHub{% endblock %}

{% block body %}
<!-- Hero Section -->
<div class="page-header" data-aos="fade-up">
    <div>
        <h2 class="page-title">Active Listings</h2>
        <p class="page-subtitle">Discover amazing deals and place your bids</p>
    </div>
    {% if user.is_authenticated %}
    <a href="{% url 'create' %}" class="btn btn-primary">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
        Create Listing
    </a>
    {% endif %}
</div>

{% if listings %}
<!-- Listings Grid -->
<div class="listings-grid">
    {% for listing in listings %}
    <div class="listing-card" data-aos="fade-up" data-aos-delay="{{ forloop.counter0|add:0 }}0">
        <!-- Image Container -->
        <div class="listing-image-container">
            <img src="{{ listing.image_url }}" alt="{{ listing.title }}" class="listing-image" onerror="this.src='https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=400&h=300&fit=crop'">
            <span class="listing-badge">Live</span>
        </div>
        
        <!-- Content -->
        <div class="listing-content">
            <a href="{% url 'listing' listing.id %}" class="listing-title">{{ listing.title }}</a>
            
            <div class="listing-price-section">
                <div class="listing-price-label">Current Bid</div>
                <div class="listing-price">${{ listing.highest_bid }}</div>
            </div>
            
            <div class="listing-owner">{{ listing.owner }}</div>
        </div>
    </div>
    {% endfor %}
</div>
{% else %}
<!-- Empty State -->
<div class="empty-state" data-aos="fade-up">
    <div class="empty-state-icon">
        <svg width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="12" cy="12" r="10"></circle>
            <path d="M8 14s1.5 2 4 2 4-2 4-2"></path>
            <line x1="9" y1="9" x2="9.01" y2="9"></line>
            <line x1="15" y1="9" x2="15.01" y2="9"></line>
        </svg>
    </div>
    <h3 style="color: var(--gray-800); margin-bottom: 0.5rem;">No Active Listings</h3>
    <p class="empty-state-text">There are no active listings at the moment. Be the first to create one!</p>
    {% if user.is_authenticated %}
    <a href="{% url 'create' %}" class="btn btn-primary">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
        Create Your First Listing
    </a>
    {% endif %}
</div>
{% endif %}
{% endblock %}
